(this["webpackJsonpkyojin-editor"]=this["webpackJsonpkyojin-editor"]||[]).push([[0],{92:function(e,t,a){},93:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var i,n=a(2),l=a(0),s=a.n(l),c=a(10),r=a.n(c),d=(a(92),a(16));a(93);!function(e){e.v1="v1"}(i||(i={}));var o=a(145),j=a(29),u=a.n(j),b=a(63),v=a.n(b),h=a(127),O=a(148),x=a(144),k=a(141),m=a(142),f=a(43),g=a(150),p=a(130),T=a(140),D=a(143),y=a(70),C=a.n(y),E=a(67),w=a.n(E),Y=a(73),S=a(71),W=a(149);function M(e){switch(e){case"audio":return"\u0410\u0443\u0434\u0438\u043e";case"text":return"\u0421\u0442\u0430\u0442\u044c\u044f / \u0418\u0441\u0442\u043e\u0440\u0438\u044f";case"quicktest":return"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0442\u0435\u0441\u0442";case"test":return"\u0422\u0435\u0441\u0442";case"image":return"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}}var z=Object(h.a)((function(e){return Object(O.a)({root:{width:"100%",backgroundColor:e.palette.background.paper}})}));var H=function(e){var t=l.useState(null),a=Object(d.a)(t,2),i=a[0],s=a[1];return z(),Object(n.jsxs)(Y.a,{variant:"elevation",elevation:0,children:[Object(n.jsxs)(f.a,{variant:"h6",children:["\u0417\u0430\u0434\u0430\u043d\u0438\u044f",Object(n.jsx)(p.a,{edge:"end","aria-label":"task",onClick:function(e){s(e.currentTarget)},title:"\u041d\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",children:Object(n.jsx)(w.a,{})})]}),Object(n.jsx)(S.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){s(null)},children:["audio","text","quicktest","test","image"].map((function(e){return e})).map((function(t){return Object(n.jsx)(W.a,{onClick:(a=t,function(){e.onAddTask(a),s(null)}),children:M(t)},t);var a}))})]})},q=a(69),F=a.n(q),I=a(147),R=a(133),B=a(134),J=a(135),L=a(136);var N=function(e){var t=l.useState(!1),a=Object(d.a)(t,2),i=a[0],s=a[1],c=l.useState(""),r=Object(d.a)(c,2),o=r[0],j=r[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(g.a,{title:"Show the full source. Copy/Paste enabled.",children:Object(n.jsx)(p.a,{"aria-label":"raw","aria-haspopup":"true",color:"inherit",onClick:function(){s(!0),j(e.raw)},children:Object(n.jsx)(F.a,{})})}),Object(n.jsxs)(I.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"xs",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title",open:i,children:[Object(n.jsx)(R.a,{id:"confirmation-dialog-title",children:"Raw"}),Object(n.jsx)(B.a,{dividers:!0,children:Object(n.jsx)(D.a,{id:"value-textfield",label:"Value",size:"small",fullWidth:!0,multiline:!0,value:o,onChange:function(e){var t=e.target.value&&""!==e.target.value?e.target.value:"";console.log("new rawValue "+t),j(t)},variant:"outlined"})}),Object(n.jsxs)(J.a,{children:[Object(n.jsx)(L.a,{autoFocus:!0,onClick:function(){s(!1),j("")},color:"primary",children:"Cancel"}),Object(n.jsx)(L.a,{onClick:function(){s(!1),e.onChangeRaw(o),j("")},color:"primary",disabled:e.isReadonly,children:"Set"})]})]})]})},A=a(11),P=a(20),U=a.n(P),G=a(137),V=a(138),K=a(139);var Q=function(e){var t,a,i,l,s,c=null===(t=e.task)||void 0===t?void 0:t.type,r=null===(a=e.task)||void 0===a?void 0:a.audio,d=null===(i=e.task)||void 0===i?void 0:i.title,o=null===(l=e.task)||void 0===l?void 0:l.brief,j=null===(s=e.task)||void 0===s?void 0:s.image;return Object(n.jsxs)(G.a,{variant:"outlined",children:[Object(n.jsx)(V.a,{action:Object(n.jsx)(p.a,{"aria-label":"delete",onClick:function(){console.log("handleDelete "+e.id),e.onDeleteTask&&e.onDeleteTask(e.id)},children:Object(n.jsx)(U.a,{})}),title:M(e.tasktype),subheader:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.a,{color:"textSecondary",children:e.id})})}),Object(n.jsx)(K.a,{children:Object(n.jsxs)(T.a,{container:!0,spacing:2,alignItems:"stretch",children:[Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsxs)(D.a,{id:"title",size:"small",label:"\u0422\u0438\u043f",select:!0,value:null!==c&&void 0!==c?c:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{type:a});e.onEditTask(i)}},fullWidth:!0,required:!0,variant:"outlined",children:[Object(n.jsx)(W.a,{value:""},"unknown"),Object(n.jsx)(W.a,{value:"meditation",children:"\u041c\u0435\u0434\u0438\u0442\u0430\u0446\u0438\u044f"},"meditation"),Object(n.jsx)(W.a,{value:"breathe",children:"\u0414\u044b\u0445\u0430\u043d\u0438\u0435"},"breathe"),Object(n.jsx)(W.a,{value:"sleep",children:"\u0421\u043e\u043d"},"sleep"),Object(n.jsx)(W.a,{value:"background",children:"\u0424\u043e\u043d\u043e\u0432\u0430\u044f \u043c\u0443\u0437\u044b\u043a\u0430"},"background")]})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"image",size:"small",label:"Mp3 \u0444\u0430\u0439\u043b",helperText:"URL / \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u043f\u043e http/https \u0444\u0430\u0439\u043b",value:null!==r&&void 0!==r?r:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{audio:a});e.onEditTask(i)}},fullWidth:!0,required:!0,variant:"outlined"})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"title",size:"small",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",helperText:"\u0415\u0441\u043b\u0438 \u043f\u0443\u0441\u0442\u043e, \u0431\u0435\u0440\u0451\u0442\u0441\u044f \u0438\u0437 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0445 mp3",value:null!==d&&void 0!==d?d:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{title:a});e.onEditTask(i)}},fullWidth:!0,variant:"outlined"})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"brief",size:"small",label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435",helperText:"\u0415\u0441\u043b\u0438 \u043f\u0443\u0441\u0442\u043e, \u0431\u0435\u0440\u0451\u0442\u0441\u044f \u0438\u0437 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0445 mp3",value:null!==o&&void 0!==o?o:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{brief:a});e.onEditTask(i)}},fullWidth:!0,variant:"outlined"})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"image",size:"small",label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 (\u0441\u0441\u044b\u043b\u043a\u0430)",helperText:"\u0415\u0441\u043b\u0438 \u043f\u0443\u0441\u0442\u043e, \u0431\u0435\u0440\u0451\u0442\u0441\u044f \u0438\u0437 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0445 mp3",value:null!==j&&void 0!==j?j:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{image:a});e.onEditTask(i)}},fullWidth:!0,variant:"outlined"})})]})})]})};var X=function(e){var t,a,i,l,s=null===(t=e.task)||void 0===t?void 0:t.type,c=null===(a=e.task)||void 0===a?void 0:a.title,r=null===(i=e.task)||void 0===i?void 0:i.brief,d=null===(l=e.task)||void 0===l?void 0:l.image;return Object(n.jsxs)(G.a,{variant:"outlined",children:[Object(n.jsx)(V.a,{action:Object(n.jsx)(p.a,{"aria-label":"delete",onClick:function(){console.log("handleDelete "+e.id),e.onDeleteTask&&e.onDeleteTask(e.id)},children:Object(n.jsx)(U.a,{})}),title:M(e.tasktype),subheader:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.a,{color:"textSecondary",children:e.id})})}),Object(n.jsx)(K.a,{children:Object(n.jsxs)(T.a,{container:!0,spacing:2,alignItems:"stretch",children:[Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsxs)(D.a,{id:"title",size:"small",label:"\u0422\u0438\u043f",select:!0,value:null!==s&&void 0!==s?s:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{type:a});e.onEditTask(i)}},fullWidth:!0,required:!0,variant:"outlined",children:[Object(n.jsx)(W.a,{value:""},"unknown"),Object(n.jsx)(W.a,{value:"article",children:"\u0421\u0442\u0430\u0442\u044c\u044f"},"article"),Object(n.jsx)(W.a,{value:"tale",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"},"tale")]})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"title",size:"small",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",value:null!==c&&void 0!==c?c:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{title:a});e.onEditTask(i)}},fullWidth:!0,required:!0,variant:"outlined"})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"brief",size:"small",label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435",value:null!==r&&void 0!==r?r:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{brief:a});e.onEditTask(i)}},fullWidth:!0,required:!0,variant:"outlined"})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"image",size:"small",label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 (\u0441\u0441\u044b\u043b\u043a\u0430)",helperText:"URL / \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u043f\u043e http/https \u0444\u0430\u0439\u043b",value:null!==d&&void 0!==d?d:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{image:a});e.onEditTask(i)}},fullWidth:!0,required:!0,variant:"outlined"})})]})})]})};var Z=function(e){var t,a,i,l=null===(t=e.task)||void 0===t?void 0:t.title,s=null===(a=e.task)||void 0===a?void 0:a.brief,c=null===(i=e.task)||void 0===i?void 0:i.image;return Object(n.jsxs)(G.a,{variant:"outlined",children:[Object(n.jsx)(V.a,{action:Object(n.jsx)(p.a,{"aria-label":"delete",onClick:function(){console.log("handleDelete "+e.id),e.onDeleteTask&&e.onDeleteTask(e.id)},children:Object(n.jsx)(U.a,{})}),title:M(e.tasktype),subheader:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.a,{color:"textSecondary",children:e.id})})}),Object(n.jsx)(K.a,{children:Object(n.jsxs)(T.a,{container:!0,spacing:2,alignItems:"stretch",children:[Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"title",size:"small",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",value:null!==l&&void 0!==l?l:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{title:a});e.onEditTask(i)}},fullWidth:!0,variant:"outlined"})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"brief",size:"small",label:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435",value:null!==s&&void 0!==s?s:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{brief:a});e.onEditTask(i)}},fullWidth:!0,variant:"outlined"})}),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"image",size:"small",label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 (\u0441\u0441\u044b\u043b\u043a\u0430)",helperText:"URL / \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u043f\u043e http/https \u0444\u0430\u0439\u043b",value:null!==c&&void 0!==c?c:"",onChange:function(t){var a=t.target.value;if(e.onEditTask){var i=Object(A.a)(Object(A.a)({},e.task),{},{image:a});e.onEditTask(i)}},fullWidth:!0,required:!0,variant:"outlined"})})]})})]})};var $=function(e){return Object(n.jsxs)(G.a,{variant:"outlined",children:[Object(n.jsx)(V.a,{action:Object(n.jsx)(p.a,{"aria-label":"delete",onClick:function(){console.log("handleDelete "+e.id),e.onDeleteTask&&e.onDeleteTask(e.id)},children:Object(n.jsx)(U.a,{})}),title:M(e.tasktype),subheader:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.a,{color:"textSecondary",children:e.id})})}),Object(n.jsx)(K.a,{children:Object(n.jsx)(f.a,{children:"TODO: \u0434\u043e\u0434\u0435\u043b\u0430\u0442\u044c"})})]})};var _=function(e){return Object(n.jsxs)(G.a,{variant:"outlined",children:[Object(n.jsx)(V.a,{action:Object(n.jsx)(p.a,{"aria-label":"delete",onClick:function(){console.log("handleDelete "+e.id),e.onDeleteTask&&e.onDeleteTask(e.id)},children:Object(n.jsx)(U.a,{})}),title:M(e.tasktype),subheader:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.a,{color:"textSecondary",children:e.id})})}),Object(n.jsx)(K.a,{children:Object(n.jsx)(f.a,{children:"TODO: \u0434\u043e\u0434\u0435\u043b\u0430\u0442\u044c"})})]})},ee=Object(h.a)((function(e){return Object(O.a)({root:{flexGrow:1},small:{width:e.spacing(3),height:e.spacing(3)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));var te=function(e){var t,a,l,c=ee(),r=new Date,j=u()(r).format("YYYYMMDDTHHmmss"),b=e.editId?e.kyojins.find((function(t){return t.id===e.editId})):void 0,h=s.a.useState(null!==(t=null===b||void 0===b?void 0:b.id)&&void 0!==t?t:Object(o.a)()),O=Object(d.a)(h,2),y=O[0],E=O[1],w=s.a.useState(null!==(a=null===b||void 0===b?void 0:b.revision)&&void 0!==a?a:j),Y=Object(d.a)(w,2),S=Y[0],W=Y[1],M=s.a.useState(null===b||void 0===b?void 0:b.name),z=Object(d.a)(M,2),q=z[0],F=z[1],I=s.a.useState(null===b||void 0===b?void 0:b.image),R=Object(d.a)(I,2),B=R[0],J=R[1],L=s.a.useState(null!==(l=null===b||void 0===b?void 0:b.tasks)&&void 0!==l?l:[]),A=Object(d.a)(L,2),P=A[0],U=A[1],G=function(e){U(P.filter((function(t){return t.id!==e}))),W(u()(new Date).format("YYYYMMDDTHHmmss"))},V=function(e){U(P.map((function(t){return t.id!==e.id?t:e}))),W(u()(new Date).format("YYYYMMDDTHHmmss"))},K=new Date,te=(u()(K).format("YYYYMMDDTHHmmss"),{v:i.v1,id:y,revision:j,name:null!==q&&void 0!==q?q:"",image:null!==B&&void 0!==B?B:"",tasks:P});return Object(n.jsxs)("div",{children:[Object(n.jsx)(x.a,{display:"block",displayPrint:"none",children:Object(n.jsx)(k.a,{position:"static",children:Object(n.jsxs)(m.a,{variant:"dense",children:[Object(n.jsx)(f.a,{variant:"h6",className:c.title,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0432\u0435\u043b\u0438\u043a\u0430\u043d\u043e\u0432"},"appTitle"),Object(n.jsx)(N,{isReadonly:!1,raw:JSON.stringify(te,void 0,2),onChangeRaw:function(e){var t=JSON.parse(e);t&&(E(t.id),W(t.revision),F(t.name),J(t.image),U(t.tasks))}}),Object(n.jsx)(g.a,{title:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c",children:Object(n.jsx)(p.a,{edge:"end",color:"inherit","aria-label":"\u0421\u043a\u0430\u0447\u0430\u0442\u044c",onClick:function(){if(q)if(B)if(P&&0!==P.length){var e={v:i.v1,id:y,revision:j,name:q,image:B,tasks:P},t=JSON.stringify(e,void 0,2),a=new Blob([t],{type:"application/json;charset=utf-8"});v.a.saveAs(a,e.name+"."+e.revision+".json")}else console.log("no tasks");else console.log("no image");else console.log("no name")},children:Object(n.jsx)(C.a,{})})})]})})}),Object(n.jsxs)(x.a,{children:[Object(n.jsx)(f.a,{children:"\xa0"}),Object(n.jsxs)(T.a,{container:!0,spacing:2,alignItems:"stretch",children:[Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"title-text",size:"small",label:"\u0418\u043c\u044f",value:null!==q&&void 0!==q?q:"",onChange:function(e){F(e.target.value),W(u()(new Date).format("YYYYMMDDTHHmmss"))},fullWidth:!0,required:!0,variant:"outlined"})},"name"),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"title-text",size:"small",label:"\u0412\u0435\u0440\u0441\u0438\u044f",value:null!==S&&void 0!==S?S:"",fullWidth:!0,variant:"outlined",disabled:!0})},"version"),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(D.a,{id:"title-text",size:"small",label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 (\u0441\u0441\u044b\u043b\u043a\u0430)",value:null!==B&&void 0!==B?B:"",onChange:function(e){J(e.target.value),W(u()(new Date).format("YYYYMMDDTHHmmss"))},fullWidth:!0,required:!0,variant:"outlined"})},"image"),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(H,{onAddTask:function(e){var t={id:Object(o.a)(),tasktype:e};U(P.concat([t])),W(u()(new Date).format("YYYYMMDDTHHmmss"))}})},"taskadd"),Object(n.jsx)(T.a,{item:!0,xs:12,children:Object(n.jsx)(T.a,{container:!0,spacing:2,alignItems:"stretch",children:P.map((function(e){switch(e.tasktype){case"audio":return Object(n.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Q,{id:e.id,tasktype:e.tasktype,task:e,onEditTask:V,onDeleteTask:G})},e.id);case"text":return Object(n.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(X,{id:e.id,tasktype:e.tasktype,task:e,onEditTask:V,onDeleteTask:G})},e.id);case"image":return Object(n.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z,{id:e.id,tasktype:e.tasktype,task:e,onEditTask:V,onDeleteTask:G})},e.id);case"quicktest":return Object(n.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(_,{id:e.id,tasktype:e.tasktype,task:e,onDeleteTask:G})},e.id);case"test":return Object(n.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)($,{id:e.id,tasktype:e.tasktype,task:e,onDeleteTask:G})},e.id);default:return Object(n.jsxs)(f.a,{children:[e.id," - ",e.tasktype]})}}))})},"tasks")]})]})]})};var ae=function(){var e=s.a.useState([]),t=Object(d.a)(e,2),a=t[0],i=t[1];return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(te,{kyojins:a,onChange:function(e){i([e])}})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,152)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,l=t.getLCP,s=t.getTTFB;a(e),i(e),n(e),l(e),s(e)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ae,{})}),document.getElementById("root")),ie()}},[[99,1,2]]]);
//# sourceMappingURL=main.333b8f7a.chunk.js.map